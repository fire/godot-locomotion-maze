[gd_scene load_steps=10 format=3 uid="uid://8lo4vobd674c"]

[ext_resource type="Script" path="res://game/targets/Target.gd" id="1"]
[ext_resource type="Texture2D" uid="uid://chbkrtmwa4xm7" path="res://addons/kenney_particle_pack/star_09.png" id="2"]
[ext_resource type="AudioStream" uid="uid://ds7hgnlw7323w" path="res://assets/freesound.org/171671__leszek-szary__success-1.mp3" id="3"]

[sub_resource type="StandardMaterial3D" id="1"]
vertex_color_use_as_albedo = true
albedo_texture = ExtResource( "2" )

[sub_resource type="Gradient" id="2"]
offsets = PackedFloat32Array(0, 0.2, 0.794521, 1)
colors = PackedColorArray(0, 0, 0, 1, 1, 1, 0, 0.752941, 1, 1, 0, 0.258824, 0, 0, 0, 1)

[sub_resource type="GradientTexture1D" id="3"]
gradient = SubResource( "2" )

[sub_resource type="ParticlesMaterial" id="4"]
emission_shape = 2
emission_sphere_radius = 1.0
direction = Vector3(0, 1, 0)
spread = 10.0
gravity = Vector3(0, 0.5, 0)
color_ramp = SubResource( "3" )

[sub_resource type="QuadMesh" id="5"]
size = Vector2(0.4, 0.4)

[sub_resource type="CylinderShape3D" id="6"]
height = 3.0

[node name="Target" type="Node3D"]
script = ExtResource( "1" )

[node name="Particles" type="GPUParticles3D" parent="."]
material_override = SubResource( "1" )
amount = 50
lifetime = 4.0
visibility_aabb = AABB(-2, -4, -2, 4, 8, 4)
process_material = SubResource( "4" )
draw_pass_1 = SubResource( "5" )

[node name="Area" type="Area3D" parent="."]
collision_layer = 0
collision_mask = 524288

[node name="CollisionShape" type="CollisionShape3D" parent="Area"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.5, 0)
shape = SubResource( "6" )

[node name="Triggered" type="AudioStreamPlayer" parent="."]
stream = ExtResource( "3" )

[connection signal="body_entered" from="Area" to="." method="_on_Area_body_entered"]
